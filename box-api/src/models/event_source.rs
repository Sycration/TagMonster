/*
 * Box Platform API
 *
 * [Box Platform](https://box.dev) provides functionality to provide access to content stored within [Box](https://box.com). It provides endpoints for basic manipulation of files and folders, management of users within an enterprise, as well as more complex topics such as legal holds and retention policies.
 *
 * The version of the OpenAPI document: 2024.0
 * Contact: devrel@box.com
 * Generated by: https://openapi-generator.tech
 */

use crate::models;
use serde::{Deserialize, Serialize};

/// EventSource : The source file or folder that triggered an event in the event stream.
#[derive(Clone, Default, Debug, PartialEq, Serialize, Deserialize)]
pub struct EventSource {
    /// The type of the item that the event represents. Can be `file` or `folder`.
    #[serde(rename = "item_type")]
    pub item_type: ItemType,
    /// The unique identifier that represents the item.
    #[serde(rename = "item_id")]
    pub item_id: String,
    /// The name of the item.
    #[serde(rename = "item_name")]
    pub item_name: String,
    #[serde(rename = "classification", skip_serializing_if = "Option::is_none")]
    pub classification: Option<Box<models::EventSourceClassification>>,
    /// The optional folder that this folder is located within.  This value may be `null` for some folders such as the root folder or the trash folder.
    #[serde(rename = "parent", default, with = "::serde_with::rust::double_option", skip_serializing_if = "Option::is_none")]
    pub parent: Option<Option<Box<models::FolderMini>>>,
    /// The user who owns this item.
    #[serde(rename = "owned_by", skip_serializing_if = "Option::is_none")]
    pub owned_by: Option<Box<models::UserMini>>,
}

impl EventSource {
    /// The source file or folder that triggered an event in the event stream.
    pub fn new(item_type: ItemType, item_id: String, item_name: String) -> EventSource {
        EventSource {
            item_type,
            item_id,
            item_name,
            classification: None,
            parent: None,
            owned_by: None,
        }
    }
}
/// The type of the item that the event represents. Can be `file` or `folder`.
#[derive(Clone, Copy, Debug, Eq, PartialEq, Ord, PartialOrd, Hash, Serialize, Deserialize)]
pub enum ItemType {
    #[serde(rename = "file")]
    File,
    #[serde(rename = "folder")]
    Folder,
}

impl Default for ItemType {
    fn default() -> ItemType {
        Self::File
    }
}

